```markdown
# скрипт `user_manage_lite.sh` - скрипт для массового создания пользователей и групп в Linux из текстового файла.

## Назначение

Скрипт автоматизирует процесс создания пользователей и групп на основе предопределенного списка в файле. Идеально подходит для:

- Быстрой настройки тестовых окружений
- Массового создания пользователей в образовательных учреждениях
- Автоматизации развертывания серверов
- Создания однотипных учетных записей для проектов

## Быстрый старт

### 1. Создание файла с пользователями

```bash
sudo tee /var/users << 'EOF'
# Формат: username groupname
user1 developers
user2 developers
user3 admins
user4 support
user5 guests
EOF
```

### 2. Скачивание и запуск скрипта

```bash
# Скачать скрипт
wget https://raw.githubusercontent.com/yourusername/user-batch-creator/main/user_manage.sh

# Сделать исполняемым
chmod +x user_manage.sh

# Запустить
sudo ./user_manage.sh
```

## Формат файла пользователей

Файл `/var/users` должен содержать пары "пользователь группа" по одной на строку:

```text
username1 group1
username2 group2
username3 group3
```

- **Разделитель**: пробел или табуляция
- **Комментарии**: строки, начинающиеся с `#`, игнорируются
- **Пустые строки**: автоматически пропускаются

### Пример файла:
```text
# Системные пользователи
admin wheel
deployer deployers
backup backup

# Пользователи приложения
app_user app_group
db_user dba

# Тестовые пользователи
test1 testers
test2 testers
```

## Использование

### Базовое использование:
```bash
sudo ./user_manage.sh
```

### Проверка созданных пользователей:
```bash
# Проверить конкретного пользователя
id username

# Показать всех пользователей системы
cut -d: -f1 /etc/passwd

# Показать созданные группы
getent group
```

### Логирование:
Все действия логируются в системный журнал. Для просмотра:
```bash
sudo tail -f /var/log/syslog | grep useradd
```

## Настройка

### Изменение файла пользователей по умолчанию:
Отредактируйте переменную в скрипте:
```bash
USER_FILE="/your/custom/path/users.txt"
```

### Настройка параметров пользователей:
В скрипте можно изменить параметры команды `useradd`:
```bash
useradd -m -g "$group" -s "/bin/bash" -c "Automatically created" "$user"
```


=========================================

# скрипт `user_manage_menu.sh` - скрипт для массового создания пользователей и групп в Linux из текстового файла или меню


```markdown
# user_manage.sh — Скрипт для управления пользователями и группами в Linux

**user_manage.sh** — это Bash-скрипт для массового создания пользователей и групп из текстового файла, а также для управления ими через удобное интерактивное меню. Скрипт предназначен для системных администраторов и всех, кто хочет автоматизировать рутинные задачи в Linux.

---

## Возможности

- **Автоматическое создание пользователей и групп** из файла `/var/users`
- **Интерактивное меню** для ручного добавления и просмотра пользователей
- Безопасный запуск только от root
- Чёткая обработка ошибок и возвращение переменных окружения
- Работа как с пакетным, так и с пошаговым режимом

---

## Формат файла пользователей

Файл `/var/users` должен содержать пары `username group` в каждой строке:
```
alice staff
bob admins
```

---

## Установка и запуск

1. Скопируйте скрипт в директорию и дайте права на исполнение:
   ```
   chmod +x user_manage.sh
   ```
2. Запустите от root:
   ```
   sudo ./user_manage.sh
   ```

---

## Режимы работы

- **Если файл `/var/users` существует и не пуст:**  
  Все указанные пользователи будут созданы с нужными группами.

- **Если файла нет или пуст:**  
  Откроется меню:
  - Добавить пользователя вручную
  - Показать всех пользователей
  - Завершить работу

---

## Пример использования

- Массовое добавление пользователей:
  ```
  sudo ./user_manage.sh
  ```
- Работа через меню (без файла):
  ```
  sudo ./user_manage.sh
  ```
